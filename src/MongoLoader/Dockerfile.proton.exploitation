FROM nvidia/cuda:11.8.0-cudnn8-runtime-ubuntu22.04

# Install Python and other dependencies
RUN apt-get update && \
    apt-get install -y python3 python3-pip && \
    apt-get clean && rm -rf /var/lib/apt/lists/*

# Set working directory
WORKDIR /app

# Copy the loader script
COPY proton_exploitation_loader.py .

# Install required Python packages
RUN pip3 install --no-cache-dir \
    pymongo \
    torch \
    transformers \
    huggingface_hub \
    vaderSentiment

# Set environment variables
ENV PYTHONUNBUFFERED=1

# Run the loader
CMD ["python3", "proton_exploitation_loader.py"] 